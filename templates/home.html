{% extends "base.html" %}

{% block title %}Dashboard | FlashPoint{% endblock %}

{% block content %}

<div class="row">
  <div class="col-md-12">

    <!-- TÃTULO -->
    

    <div class="clearfix"></div>

    <!-- ðŸ”¹ RESUMO DE HORAS -->
    <div class="x_panel">
      <div class="x_title">
        <h2>Riepilogo ore</h2>
        <div class="clearfix"></div>
      </div>

      <div class="x_content">
        <div class="row text-center">

          <div class="col-md-3 col-sm-6 mb-3">
            <div class="tile-stats">
              <div class="icon"><i class="fa fa-clock-o"></i></div>
              <div class="count">{{ horas_mes_atual }}</div>
              <h3>Ore mese attuale</h3>
              <p>Totale registrato</p>
            </div>
          </div>

          <div class="col-md-3 col-sm-6 mb-3">
            <div class="tile-stats">
              <div class="icon"><i class="fa fa-calendar"></i></div>
              <div class="count">{{ horas_mes_anterior }}</div>
              <h3>Mese precedente</h3>
              <p>Confronto</p>
            </div>
          </div>

          <div class="col-md-3 col-sm-6 mb-3">
            <div class="tile-stats">
              <div class="icon"><i class="fa fa-calendar-check-o"></i></div>
              <div class="count">{{ horas_ano }}</div>
                <h3>Totale ore anno</h3>
                <p>Anno corrente</p>

            </div>
          </div>

          <div class="col-md-3 col-sm-6 mb-3">
            <div class="tile-stats">
              <div class="icon"><i class="fa fa-trophy"></i></div>
              <div class="count">#{{ posicao }}</div>
              <h3>Classifica</h3>
              <p>Posizione attuale</p>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- ðŸ”¹ RANKING -->
    <div class="x_panel">
      <div class="x_title">
        <h2>Classifica ore mensili</h2>
        <div class="clearfix"></div>
      </div>

      <div class="x_content">

        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th style="width:80px;">#</th>
              <th>Nome</th>
              <th style="width:150px;">Ore totali</th>
            </tr>
          </thead>
          <tbody>
            {% for r in ranking %}
            <tr>
              <td class="text-center">
                {% if loop.index == 1 %}
                  ðŸ¥‡
                {% elif loop.index == 2 %}
                  ðŸ¥ˆ
                {% elif loop.index == 3 %}
                  ðŸ¥‰
                {% else %}
                  {{ loop.index }}
                {% endif %}
              </td>
              <td>{{ r.nome }}</td>
              <td class="text-center fw-bold">{{ r.horas }} h</td>
            </tr>
            {% else %}
            <tr>
              <td colspan="3" class="text-center text-muted">
                Nessun dato disponibile per questo mese.
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>

      </div>
    </div>

  </div>
</div>

{% endblock %}
